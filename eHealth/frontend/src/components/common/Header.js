import React, { useState } from 'react'
import { Link } from 'react-router-dom'
import { withRouter } from 'react-router'

const Header = props => {
  const [menu, setMenu] = useState(false)

  const toggleMenu = () => {
    if (menu) {
      document.getElementById('mySidenav').style.width = '250px'
    } else {
      document.getElementById('mySidenav').style.width = '0px'
    }
    setMenu(!menu)
  }

  return (
    <div data-testid="header" className="header">
      <div data-testid="headerLogo" className="header-logo">
        <svg width="29px" height="30px" viewBox="0 0 29 30" version="1.1">
          <g
            id="Welcome"
            stroke="none"
            strokeWidth="1"
            fill="none"
            fillRule="evenodd"
          >
            <g
              id="Main-Menu---Clinician"
              transform="translate(-30.000000, -20.000000)"
              fill="#000000"
              fillRule="nonzero"
            >
              <g id="Header">
                <g
                  id="icons8-stethoscope-(1)"
                  transform="translate(30.000000, 20.000000)"
                >
                  <path
                    d="M3.625,0 C3.14827504,0 2.74471044,0.282206939 2.54882813,0.68877551 C1.72281931,0.846620204 0,1.32493653 0,2.67857143 C0,3.43431122 1.68977865,14.6651786 6.06054688,17.3533163 C6.058187,17.4035394 6.04166667,17.4537631 6.04166667,17.5063776 C6.04166667,18.8911035 6.95971665,21.4285714 8.45833333,21.4285714 C9.95695002,21.4285714 10.875,18.8911035 10.875,17.5063776 C10.875,17.4537631 10.8584797,17.4035394 10.8561198,17.3533163 C15.226888,14.6651786 16.9166667,3.43431122 16.9166667,2.67857143 C16.9166667,1.32493653 15.193848,0.846620204 14.3678385,0.68877551 C14.1719562,0.282206939 13.7683922,0 13.2916667,0 C12.6237791,0 12.0833333,0.547672041 12.0833333,1.2244898 C12.0833333,1.90130755 12.6237791,2.44897959 13.2916667,2.44897959 C13.699951,2.44897959 14.0539552,2.24569531 14.2734375,1.93239796 C14.9979656,2.10459184 15.7083333,2.41549776 15.7083333,2.67857143 C15.7083333,3.77391612 13.8462729,13.8735649 10.3463542,16.2244898 C9.95459015,15.9255422 9.4660646,15.9183673 9.23242188,15.9183673 C9.11442088,15.9183673 8.98461929,15.9135845 8.85481771,15.9183673 C8.5999349,15.9279337 8.31673177,15.9279337 8.06184896,15.9183673 C7.93204738,15.9135845 7.8022464,15.9183673 7.68424479,15.9183673 C7.45060206,15.9183673 6.95971665,15.9255422 6.5703125,16.2244898 C3.07039373,13.8759569 1.20833333,3.77391612 1.20833333,2.67857143 C1.20833333,2.42984694 1.86914063,2.11415816 2.64322917,1.93239796 C2.86271144,2.24569531 3.21671565,2.44897959 3.625,2.44897959 C4.29288752,2.44897959 4.83333333,1.90130755 4.83333333,1.2244898 C4.83333333,0.547672041 4.29288752,0 3.625,0 Z M24.7708333,14.0816327 C22.4391276,14.0816327 20.5416667,16.0044643 20.5416667,18.3673469 C20.5416667,20.7302296 22.4391276,22.6530612 24.7708333,22.6530612 C27.1025391,22.6530612 29,20.7302296 29,18.3673469 C29,16.0044643 27.1025391,14.0816327 24.7708333,14.0816327 Z M24.7708333,16.5306122 C25.7691245,16.5306122 26.5833333,17.3557078 26.5833333,18.3673469 C26.5833333,19.3789861 25.7691245,20.2040816 24.7708333,20.2040816 C23.7725422,20.2040816 22.9583333,19.3789861 22.9583333,18.3673469 C22.9583333,17.3557078 23.7725422,16.5306122 24.7708333,16.5306122 Z M9.13802083,22.557398 C8.92089844,22.6195794 8.69905629,22.6530612 8.45833333,22.6530612 C8.26953125,22.6530612 8.08544952,22.6339286 7.91080729,22.5956633 C8.16804998,25.5947069 9.54630519,30 16.9166667,30 C22.8875329,30 24.6528323,26.2356508 25.1673177,23.8584184 C25.0398766,23.8679847 24.9029948,23.877551 24.7708333,23.877551 C24.4899901,23.877551 24.2256672,23.8416771 23.9589844,23.8010204 C23.4704588,25.8482143 21.8939614,28.7755102 16.9166667,28.7755102 C11.0166016,28.7755102 9.4660646,25.8577806 9.13802083,22.557398 Z"
                    id="Shape"
                  ></path>
                </g>
              </g>
            </g>
          </g>
        </svg>
        <div className="header-text">Cancer Care Ontario</div>
      </div>
      <div data-testid="headerMenu" className="header-menu" onClick={() => toggleMenu()}>
        <svg width="29px" height="20px" viewBox="0 0 29 20" version="1.1">
          <g
            id="Welcome"
            stroke="none"
            strokeWidth="1"
            fill="none"
            fillRule="evenodd"
          >
            <g
              id="Main-Menu---Clinician"
              transform="translate(-1123.000000, -26.000000)"
              fill="#000000"
              fillRule="nonzero"
            >
              <g id="Header">
                <g
                  id="icons8-menu"
                  transform="translate(1123.000000, 26.000000)"
                >
                  <path
                    d="M0,0 L0,2.85714286 L29,2.85714286 L29,0 L0,0 Z M0,8.57142857 L0,11.4285714 L29,11.4285714 L29,8.57142857 L0,8.57142857 Z M0,17.1428571 L0,20 L29,20 L29,17.1428571 L0,17.1428571 Z"
                    id="Shape"
                  ></path>
                </g>
              </g>
            </g>
          </g>
        </svg>
      </div>

      <div data-testid="mySidenav" id="mySidenav" className="sidenav">
        <button data-testid="exitButton" id="exit-button" onClick={() => toggleMenu()}>
          &times;
        </button>
        <div>
          <nav>
            <ul>
              <li>
                <Link to="/clinician" onClick={() => toggleMenu()}>
                  Clinician
                </Link>
              </li>
              <li>
                <Link to="/form_uploader" onClick={() => toggleMenu()}>
                  Form Uploader
                </Link>
              </li>
              <li>
                <Link to="/family_doctor" onClick={() => toggleMenu()}>
                  Family Doctor
                </Link>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  )
}

export default withRouter(Header)
